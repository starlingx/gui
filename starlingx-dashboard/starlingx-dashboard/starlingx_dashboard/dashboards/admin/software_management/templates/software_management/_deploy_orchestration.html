{% load i18n sizeformat %}

{% block main %}

  <div class="info row-fluid detail">
    <h3>{% trans "Software Deploy Strategy" %}</h3>
    <hr class="header_rule">
    <div id="software-deploy-strategy-detail">

      {% if strategy %}
        <dl class="dl-horizontal-wide">
          <dt>{% trans "Release" %}</dt>
          <dd>{{ strategy.release }}</dd>
          <dt>{% trans "Rollback" %}</dt>
          <dd>{{ strategy.rollback }}</dd>
          <dt>{% trans "Delete" %}</dt>
          <dd>{{ strategy.delete }}</dd>
          <dt>{% trans "Controller Apply Type" %}</dt>
          <dd>{{ strategy.controller_apply_type }}</dd>
          <dt>{% trans "Storage Apply Type" %}</dt>
          <dd>{{ strategy.storage_apply_type }}</dd>
          <dt>{% trans "Worker Apply Type" %}</dt>
          <dd>{{ strategy.worker_apply_type }}</dd>
          {% if strategy.worker_apply_type == "parallel" %}
          <dt>{% trans "Maximum Parallel Worker Hosts" %}</dt>
          <dd>{{ strategy.max_parallel_worker_hosts }}</dd>
          {% endif %}
          <dt>{% trans "Instance Action" %}</dt>
          <dd>{{ strategy.default_instance_action }}</dd>
          <dt>{% trans "Alarm Restrictions" %}</dt>
          <dd>{{ strategy.alarm_restrictions }}</dd>
        </dl>
        <dl class="dl-horizontal-wide">
          <dt>{% trans "Current Phase" %}</dt>
          <dd>{{ strategy.current_phase }}</dd>
          <dt>{% trans "Current Phase Completion" %}</dt>
          <dd>{{ strategy.current_phase_completion_percentage }}%</dd>
          <dt>{% trans "State" %}</dt>
          <dd>{{ strategy.state }}</dd>
        </dl>
      {% else %}
        {% trans "No Strategy has been created" %}
      {% endif %}
    </div>
  </div>
  <br/>
  {{ softwaredeploystages_table.render }}

{% endblock %}
